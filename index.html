<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Bridges Park</title>

<style>
/* ================= THEME ================= */
:root{
  --bg:#ffffff; --text:#111; --muted:#666;
  --card:#ffffff; --border:#dddddd;
  --thead:#f5f5f5; --line:#dddddd;
  --btn:#efefef;

  --under:#d1fae5;
  --even:#f3f4f6;
  --over:#fee2e2;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0d10; --text:#e8e8e8; --muted:#a7a7a7;
    --card:#11151b; --border:#2a2f38;
    --thead:#171c24; --line:#2a2f38;
    --btn:#1b2230;

    --under:#0f3b2b;
    --even:#202634;
    --over:#3b1416;
  }
}

/* ================= BASE ================= */
body{
  margin:16px;
  font-family:-apple-system,system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.muted{color:var(--muted);font-size:13px}

.card{
  max-width:900px;
  margin-top:12px;
  padding:12px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
}

button{
  width:100%;
  padding:12px;
  font-size:16px;
  border-radius:14px;
  border:1px solid var(--border);
  background:var(--btn);
  color:var(--text);
}

/* ================= HEADER ================= */
.header{
  max-width:900px;
  display:flex;
  gap:12px;
  align-items:center;
}
.logoImg{
  width:64px;height:64px;
  border-radius:14px;
  object-fit:contain;
  border:none;
  background:transparent;
}
h1{margin:0;font-size:28px}

/* ================= INFO ================= */
.infoGrid{
  max-width:900px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
  margin-top:10px;
}
.infoCard{
  padding:10px;
  border:1px solid var(--border);
  border-radius:14px;
}

/* ================= LEGEND ================= */
.legend{display:flex;gap:10px;margin-top:8px}
.dot{
  width:14px;height:14px;
  border-radius:4px;
  border:1px solid var(--border);
}
.dot-under{background:var(--under)}
.dot-even{background:var(--even)}
.dot-over{background:var(--over)}

/* ================= TABLE ================= */
.tableWrap{
  width:100%;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
}
.tableWrap table{
  min-width:760px;
}
table{width:100%;border-collapse:collapse}
th,td{
  padding:6px;
  text-align:center;
  border-bottom:1px solid var(--line);
}
th{background:var(--thead)}
.left{text-align:left}

/* ================= GOAL TAGS ================= */
.goalTag{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:72px;
  height:22px;
  padding:0 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  box-sizing:border-box;
}
.goal-tee{background:#111;color:#fff}
.goal-white{background:#fff;color:#111;border:1px solid #ddd}
.goal-orange{background:#ff8a00}
.goal-blue{background:#1f6feb;color:#fff}
.goal-pink{background:#ff5aa5}
.goal-red{background:#e11d48;color:#fff}
.goal-green{background:#16a34a;color:#fff}
.goal-yellow{background:#ffd400}

/* ================= SCORING ================= */
select{
  min-width:70px;
  padding:6px;
  font-size:16px;
  border-radius:10px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
}
.score-under{background:var(--under)}
.score-even{background:var(--even)}
.score-over{background:var(--over)}

.sumCell{
  display:flex;
  flex-direction:column;
  align-items:center;
}
.sumDiff{
  font-size:18px;
  font-weight:800;
}
.sumThrows{
  font-size:12px;
  color:var(--muted);
}

/* ================= MOBILE ================= */
@media (max-width:480px){
  th,td{padding:5px}
  .goalTag{min-width:56px;height:20px;font-size:11px}
  select{min-width:64px;font-size:15px}
}
</style>
</head>

<body>

<div class="header">
  <img id="logoLight" class="logoImg" src="C542D141-EA75-4C1C-9345-50C8E08D9EE5.png">
  <img id="logoDark" class="logoImg" src="B19327BB-FD35-4A0C-8F34-56CC91793687.png" style="display:none">
  <div>
    <h1>Bridges Park</h1>
    <div class="muted">Disc Golf • Course Generator + Scorecard</div>
  </div>
</div>

<div class="infoGrid">
  <div class="infoCard"><div class="muted">Holes</div><strong>18</strong></div>
  <div class="infoCard">
    <div class="muted">Par (F / B / T)</div>
    <strong><span id="pf">–</span> / <span id="pb">–</span> / <span id="pt">–</span></strong>
  </div>
</div>

<div class="legend">
  <div><span class="dot dot-under"></span> Under</div>
  <div><span class="dot dot-even"></span> Even</div>
  <div><span class="dot dot-over"></span> Over</div>
</div>

<button id="gen">Generate New Course</button>

<div class="card">
<h2>Course + Scorecard</h2>

<div class="tableWrap">
<table>
<thead>
<tr>
  <th>Hole</th><th>From</th><th>To</th><th>Par</th>
  <th>Player 1</th><th>Player 2</th>
</tr>
</thead>
<tbody id="body"></tbody>
</table>
</div>
</div>

<script>
/* ============ LOGO SWAP (AUTO DARK) ============ */
function syncLogo(){
  const dark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  document.getElementById("logoLight").style.display = dark?"none":"block";
  document.getElementById("logoDark").style.display  = dark?"block":"none";
}
syncLogo();
window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",syncLogo);

/* ============ COURSE DATA ============ */
const GOALS=["white","orange","blue","pink","red","green","yellow"];
const FIXED={9:"green",18:"green"};

const DIS={
  white:[],
  orange:["pink","blue"],
  blue:["orange","red"],
  pink:["orange","red","green"],
  red:["blue","pink"],
  green:["yellow","pink"],
  yellow:["green"]
};

const PAR3=new Set([
  "white|yellow","white|green","yellow|red","yellow|pink",
  "green|red","red|orange","red|blue","blue|pink"
]);
const PAR5=new Set(["white|blue","white|orange"]);

function pair(a,b){return a<b?`${a}|${b}`:`${b}|${a}`}

function parFor(f,t,h){
  if(h===1) return ["yellow","pink","white"].includes(t)?3:4;
  if(PAR5.has(pair(f,t))) return 5;
  if(PAR3.has(pair(f,t))) return 3;
  return 4;
}

/* ============ GENERATE COURSE ============ */
function generate(){
  const seq=[];
  let prev=null;
  for(let h=1;h<=18;h++){
    if(FIXED[h]){ seq.push(FIXED[h]); prev=FIXED[h]; continue; }
    const opts=GOALS.filter(g=>g!==prev && !DIS[prev]?.includes(g));
    const pick=opts[Math.floor(Math.random()*opts.length)];
    seq.push(pick); prev=pick;
  }
  return seq;
}

/* ============ RENDER ============ */
const body=document.getElementById("body");

function goalTag(g){
  return `<span class="goalTag goal-${g}">${g}</span>`;
}

function deltaSelect(){
  return `
    <select class="score-even">
      <option value="">–</option>
      <option value="-2">-2</option>
      <option value="-1">-1</option>
      <option value="0">0</option>
      <option value="1">+1</option>
      <option value="2">+2</option>
      <option value="3">+3</option>
    </select>`;
}

function render(){
  body.innerHTML="";
  const seq=generate();
  let pf=0,pb=0,pt=0;

  seq.forEach((to,i)=>{
    const h=i+1;
    const from=i===0?"tee":seq[i-1];
    const p=parFor(from,to,h);
    pt+=p; h<=9?pf+=p:pb+=p;

    body.innerHTML+=`
      <tr>
        <td>${h}</td>
        <td>${goalTag(from)}</td>
        <td>${goalTag(to)}</td>
        <td>${p}</td>
        <td>${deltaSelect()}</td>
        <td>${deltaSelect()}</td>
      </tr>`;
  });

  document.getElementById("pf").textContent=pf;
  document.getElementById("pb").textContent=pb;
  document.getElementById("pt").textContent=pt;

  body.querySelectorAll("select").forEach(s=>{
    s.onchange=()=>{
      s.classList.remove("score-under","score-even","score-over");
      if(s.value==="") s.classList.add("score-even");
      else if(+s.value<0) s.classList.add("score-under");
      else if(+s.value>0) s.classList.add("score-over");
      else s.classList.add("score-even");
    };
  });
}

document.getElementById("gen").onclick=render;
render();
</script>

</body>
</html>
