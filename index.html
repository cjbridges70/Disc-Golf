<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Bridges Park Disc Golf</title>

<style>
body{font-family:-apple-system,system-ui,sans-serif;margin:16px}
button{width:100%;font-size:16px;padding:12px}
input,select{font-size:16px;padding:6px;width:100%}
table{width:100%;border-collapse:collapse;margin-top:12px}
th,td{border-bottom:1px solid #ddd;padding:6px;text-align:center}
th{background:#f5f5f5}
.card,.topWrap{max-width:900px}
.card{border:1px solid #ddd;border-radius:12px;padding:12px;margin-top:12px}
.header{display:flex;align-items:center;gap:12px}
.logo{
  width:64px;height:64px;border-radius:14px;
  object-fit:contain;border:1px solid #ddd;background:#fff
}
.goalTag{padding:2px 8px;border-radius:999px;font-weight:700;font-size:12px}
.goal-white{background:#fff;border:1px solid #ddd}
.goal-orange{background:#ff8a00}
.goal-blue{background:#1f6feb;color:#fff}
.goal-pink{background:#ff5aa5}
.goal-red{background:#e11d48;color:#fff}
.goal-green{background:#16a34a;color:#fff}
.goal-yellow{background:#ffd400}
.goal-tee{background:#111;color:#fff}
.score-under{background:#d1fae5}
.score-even{background:#f3f4f6}
.score-over{background:#fee2e2}
.pill{padding:2px 8px;border-radius:999px;font-size:12px}
.pill-under{background:#d1fae5}
.pill-even{background:#f3f4f6}
.pill-over{background:#fee2e2}
.right{text-align:right}
</style>
</head>

<body>

<div class="topWrap">
  <div class="header">
    <img class="logo" src="C542D141-EA75-4C1C-9345-50C8E08D9EE5.png">
    <div>
      <h1 style="margin:0">Bridges Park</h1>
      <div style="color:#666">Disc Golf • Course Generator + Scorecard</div>
    </div>
  </div>

  <div style="display:flex;gap:8px;margin-top:10px">
    <div style="flex:1;border:1px solid #eee;border-radius:10px;padding:8px">
      <div style="font-size:12px;color:#666">Holes</div>
      <div style="font-weight:700">18</div>
    </div>
    <div style="flex:1;border:1px solid #eee;border-radius:10px;padding:8px">
      <div style="font-size:12px;color:#666">Par (F/B/T)</div>
      <div style="font-weight:700">
        <span id="pf">–</span>/<span id="pb">–</span>/<span id="pt">–</span>
      </div>
    </div>
  </div>

  <button id="gen" style="margin-top:10px">Generate New Course</button>
</div>

<div class="card">
  <table>
    <thead>
      <tr>
        <th>Hole</th><th>From</th><th>To</th><th>Par</th>
        <th>P1</th><th>P2</th>
      </tr>
    </thead>
    <tbody id="rows"></tbody>
    <tfoot>
      <tr>
        <th colspan="4" class="right">Front 9</th>
        <th><span id="f1">0</span> <span id="fd1" class="pill">E</span></th>
        <th><span id="f2">0</span> <span id="fd2" class="pill">E</span></th>
      </tr>
      <tr>
        <th colspan="4" class="right">Back 9</th>
        <th><span id="b1">0</span> <span id="bd1" class="pill">E</span></th>
        <th><span id="b2">0</span> <span id="bd2" class="pill">E</span></th>
      </tr>
      <tr>
        <th colspan="4" class="right">Total</th>
        <th><span id="t1">0</span> <span id="d1" class="pill">E</span></th>
        <th><span id="t2">0</span> <span id="d2" class="pill">E</span></th>
      </tr>
    </tfoot>
  </table>
</div>

<script>
const goals=["white","orange","blue","pink","red","green","yellow"];
const fixed={9:"green",18:"green"};
const dis={
 white:[], orange:["pink","blue"], blue:["orange","red"],
 pink:["orange","red","green"], red:["blue","pink"],
 green:["yellow","pink"], yellow:["green"]
};
const par3=new Set(["white|yellow","white|green","yellow|red","yellow|pink","green|red","red|orange","red|blue","blue|pink"]);
const par5=new Set(["white|blue","white|orange"]);

function pair(a,b){return [a,b].sort().join("|")}
function par(from,to,h){
 if(h===1)return ["yellow","pink","white"].includes(to)?3:4;
 if(par5.has(pair(from,to)))return 5;
 if(par3.has(pair(from,to)))return 3;
 return 4;
}

function gen(){
 let seq=[null];
 while(seq.length<=18){
  let h=seq.length;
  let prev=seq[h-1]||"tee";
  let opts=goals.filter(g=>{
    if(h===1 && g==="green")return false;
    if(prev!=="tee" && dis[prev].includes(g))return false;
    return true;
  });
  if(fixed[h]){seq[h]=fixed[h];continue}
  seq[h]=opts[Math.floor(Math.random()*opts.length)];
 }
 return seq.slice(1);
}

function pill(el,val){
 el.className="pill "+(val==="E"?"pill-even":val[0]==="+"?"pill-over":"pill-under");
}

function render(){
 const seq=gen();
 const rows=document.getElementById("rows");
 rows.innerHTML="";
 let pf=0,pb=0,pt=0;

 seq.forEach((to,i)=>{
  let from=i===0?"tee":seq[i-1];
  let p=par(from,to,i+1);
  pt+=p;i<9?pf+=p:pb+=p;

  let tr=document.createElement("tr");
  tr.innerHTML=`
   <td>${i+1}</td>
   <td><span class="goalTag goal-${from}">${from}</span></td>
   <td><span class="goalTag goal-${to}">${to}</span></td>
   <td>${p}</td>
   <td><select data-par="${p}" data-i="${i}" data-p="1">${[...Array(11)].map((_,n)=>`<option>${n||""}</option>`)}</select></td>
   <td><select data-par="${p}" data-i="${i}" data-p="2">${[...Array(11)].map((_,n)=>`<option>${n||""}</option>`)}</select></td>
  `;
  rows.appendChild(tr);
 });

 pfEl.textContent=pf;pbEl.textContent=pb;ptEl.textContent=pt;
 update();
}

function update(){
 let pf=+pfEl.textContent,pb=+pbEl.textContent,pt=+ptEl.textContent;
 [1,2].forEach(p=>{
  let f=0,b=0,t=0;
  document.querySelectorAll(`select[data-p="${p}"]`).forEach(s=>{
   let v=+s.value||0;
   let par=+s.dataset.par;
   s.className=v? v<par?"score-under":v>par?"score-over":"score-even":"";
   t+=v; s.dataset.i<9?f+=v:b+=v;
  });
  document.getElementById("f"+p).textContent=f;
  document.getElementById("b"+p).textContent=b;
  document.getElementById("t"+p).textContent=t;
  let fd=document.getElementById("fd"+p);
  let bd=document.getElementById("bd"+p);
  let d=document.getElementById("d"+p);
  fd.textContent=f-pf;bd.textContent=b-pb;d.textContent=t-pt;
  pill(fd,fd.textContent);pill(bd,bd.textContent);pill(d,d.textContent);
 });
}

genBtn.onclick=render;
document.addEventListener("change",update);

const genBtn=document.getElementById("gen");
const pfEl=document.getElementById("pf");
const pbEl=document.getElementById("pb");
const ptEl=document.getElementById("pt");

render();
</script>

</body>
</html>
